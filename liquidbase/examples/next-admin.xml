<?xml version="1.0" encoding="utf-8" ?>
<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

  <preConditions>
    <dbms type="oracle" />
  </preConditions>

  <changeSet author="Mayorov" id="02072014-1">
    <sql>
      DROP TABLE USERCLAIMS;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-2">
    <sql>
      DROP TABLE USERLOGINS;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-3">
    <sql>
      ALTER TABLE USERGROUPS MODIFY USERID NUMBER(28,0);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-4">
    <sql>
      ALTER TABLE USERROLES MODIFY USERID NUMBER(28,0);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-5">
    <sql>
      ALTER TABLE USERS DROP COLUMN FIO;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-6">
    <sql>
      ALTER TABLE USERS ADD SURNAME VARCHAR2(64);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-7">
    <sql>
      ALTER TABLE USERS ADD FIRSTNAME VARCHAR2(64);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-8">
    <sql>
      ALTER TABLE USERS ADD PATRONYMIC VARCHAR2(64);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-9">
    <sql>
      DELETE FROM USERS;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-10">
    <sql>
      INSERT INTO USERS (ID, USERNAME, PASSWORDHASH, SECURITYSTAMP, SURNAME, FIRSTNAME, PATRONYMIC)
      VALUES (1, 'reader', 'AIxRbSeECiLgohSH90fG5nDIQWySkGxdElBxmVvnXyEVc9BxZHWenh2ADBFViJzZng==', '320bedf3-822d-4177-862d-1c35eb7ed713', 'Иванов', 'Илья', 'Васильевич');
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-11">
    <sql>
      INSERT INTO USERS (ID, USERNAME, PASSWORDHASH, SECURITYSTAMP, SURNAME, FIRSTNAME, PATRONYMIC)
      VALUES (2, 'administrator', 'ADm2rIvFTmr46j93cHzJGtbDdJkkrueS2lKeLRPLFyULGLW01z2NB3/0MCC8lqfumA==', '892b17c3-32da-4109-acc4-11f53451422f', 'Петров', 'Александр', 'Григорьевич');
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-12">
    <sql>
      ALTER TABLE USERS DROP COLUMN MODIFY_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-13">
    <sql>
      DELETE FROM USERS;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-14">
    <sql>
      INSERT INTO USERS (ID, USERNAME, PASSWORDHASH, SECURITYSTAMP, SURNAME, FIRSTNAME, PATRONYMIC, CREATE_DATE, ENTITY_ID)
      VALUES (1, 'reader', 'AIxRbSeECiLgohSH90fG5nDIQWySkGxdElBxmVvnXyEVc9BxZHWenh2ADBFViJzZng==', '320bedf3-822d-4177-862d-1c35eb7ed713', 'Иванов', 'Илья', 'Васильевич', SYSDATE, 1);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="02072014-15">
    <sql>
      INSERT INTO USERS (ID, USERNAME, PASSWORDHASH, SECURITYSTAMP, SURNAME, FIRSTNAME, PATRONYMIC, CREATE_DATE, ENTITY_ID)
      VALUES (2, 'administrator', 'ADm2rIvFTmr46j93cHzJGtbDdJkkrueS2lKeLRPLFyULGLW01z2NB3/0MCC8lqfumA==', '892b17c3-32da-4109-acc4-11f53451422f', 'Петров', 'Александр', 'Григорьевич', SYSDATE, 2);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-1">
    <sql>
      DROP TABLE USERROLES;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-2">
    <sql>
      RENAME USERGROUPS TO USER_GROUP;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-3">
    <sql>
      RENAME USERS TO "USER";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-4">
    <sql>
      RENAME GROUPS TO "GROUP";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-5">
    <sql>
      CREATE TABLE ROLE_GROUP
      (
        ID NUMBER (28) NOT NULL ,
        ROLE_ID NUMBER (28) NOT NULL,
        GROUP_ID NUMBER (28) NOT NULL,
        ENTITY_ID NUMBER(28,0),
        CREATE_DATE DATE,
        DELETE_DATE DATE,
        CREATOR NUMBER(28,0)
      );

      ALTER TABLE ROLE_GROUP ADD CONSTRAINT ROLEGROUP_PK PRIMARY KEY (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-6">
    <sql>
      RENAME ROLES TO "ROLE";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-7">
    <sql>
      ALTER TABLE ROLE_GROUP ADD CONSTRAINT ROLE_FK FOREIGN KEY (ROLE_ID) REFERENCES "ROLE" (ID);
      ALTER TABLE ROLE_GROUP ADD CONSTRAINT GROUP_FK FOREIGN KEY (GROUP_ID) REFERENCES "GROUP" (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-8">
    <sql>
      ALTER TABLE "USER" ADD (ORGANIZATION_ID NUMBER(28));
    </sql>
  </changeSet>
    
  <changeSet author="Mayorov" id="07072014-9">
    <sql>
      ALTER TABLE "USER" ADD CONSTRAINT USER_ORGANIZATION_FK FOREIGN KEY (ORGANIZATION_ID) REFERENCES "ORGANIZATION" (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-10">
    <sql>
      CREATE TABLE SYSTEM_UNIT_TYPE
      (
        ID NUMBER (28) NOT NULL,
        NAME VARCHAR (64) NOT NULL,
        ENTITY_ID NUMBER(28,0),
        CREATE_DATE DATE,
        DELETE_DATE DATE,
        CREATOR NUMBER(28,0)
      );

      ALTER TABLE SYSTEM_UNIT_TYPE ADD CONSTRAINT SYSTEM_UNIT_TYPE_PK PRIMARY KEY (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-11">
    <sql>
      CREATE TABLE SYSTEM_UNIT
      (
        ID NUMBER (28) NOT NULL,
        PARENT_ID NUMBER (28) NOT NULL,
        SYSTEM_UNIT_TYPE_ID NUMBER (28) NOT NULL,
        ENTITY_ID NUMBER(28,0),
        CREATE_DATE DATE,
        DELETE_DATE DATE,
        CREATOR NUMBER(28,0)
      );

      ALTER TABLE SYSTEM_UNIT ADD CONSTRAINT SYSTEM_UNIT_PK PRIMARY KEY (ID);
    </sql>
  </changeSet>
    
  <changeSet author="Mayorov" id="07072014-12">
    <sql>
      ALTER TABLE SYSTEM_UNIT ADD CONSTRAINT PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES "SYSTEM_UNIT" (ID);
      ALTER TABLE SYSTEM_UNIT ADD CONSTRAINT SYSTME_UNIT_TYPE_FK FOREIGN KEY (SYSTEM_UNIT_TYPE_ID) REFERENCES "SYSTEM_UNIT_TYPE" (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-13">
    <sql>
      CREATE TABLE ACTION
      (
        ID NUMBER (28) NOT NULL,
        NAME VARCHAR(32) NOT NULL,
        ENTITY_ID NUMBER(28,0),
        CREATE_DATE DATE,
        DELETE_DATE DATE,
        CREATOR NUMBER(28,0)
      );

      ALTER TABLE ACTION ADD CONSTRAINT ACTION_PK PRIMARY KEY (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-14">
    <sql>
      CREATE TABLE SYSTEM_UNIT_ACTION
      (
        ID NUMBER (28) NOT NULL,
        SYSTEM_UNIT_ID NUMBER(28) NOT NULL,
        ACTION_ID NUMBER(28) NOT NULL,
        ENTITY_ID NUMBER(28,0),
        CREATE_DATE DATE,
        DELETE_DATE DATE,
        CREATOR NUMBER(28,0)
      );

      ALTER TABLE SYSTEM_UNIT_ACTION ADD CONSTRAINT SYSTEM_UNIT_ACTION_PK PRIMARY KEY (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-15">
    <sql>
      ALTER TABLE SYSTEM_UNIT_ACTION ADD CONSTRAINT SYSTEM_UNIT_FK FOREIGN KEY (SYSTEM_UNIT_ID) REFERENCES "SYSTEM_UNIT" (ID);
      ALTER TABLE SYSTEM_UNIT_ACTION ADD CONSTRAINT ACTION_FK FOREIGN KEY (ACTION_ID) REFERENCES "ACTION" (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-16">
    <sql>
      ALTER TABLE "GROUP" MODIFY ID NUMBER(28,0);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-17">
    <sql>
      ALTER TABLE "ROLE" MODIFY ID NUMBER(28,0);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-18">
    <sql>
      ALTER TABLE "ROLE" DROP COLUMN ROLETYPEID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-19">
    <sql>
      DROP TABLE "ROLETYPES";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-20">
    <sql>
      DROP TABLE "ROLEGROUPS";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="07072014-21">
    <sql>
      ALTER TABLE "USER_GROUP" MODIFY GROUPID NUMBER(28,0);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="08072014-1">
    <sql>
      DROP TABLE "KBKROLES";
    </sql>
  </changeSet>
  
  <changeSet author="Mayorov" id="08072014-2">
    <sql>
      ALTER TABLE "USER_GROUP" ADD (ID NUMBER(28,0) NOT NULL);
    </sql>
  </changeSet>
  
  <changeSet author="Mayorov" id="08072014-3">
    <sql>
      ALTER TABLE "USER_GROUP" RENAME COLUMN USERID TO USER_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="08072014-4">
    <sql>
      ALTER TABLE "USER_GROUP" RENAME COLUMN GROUPID TO GROUP_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="08072014-5">
    <sql>
      ALTER TABLE USER_GROUP DROP CONSTRAINT PK_USERGROUPS_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="08072014-6">
    <sql>
      ALTER TABLE USER_GROUP ADD CONSTRAINT USER_GROUP_PK PRIMARY KEY (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-1">
    <sql>
      INSERT INTO SYSTEM_UNIT_TYPE (ID, NAME) VALUES (1, 'Подсистема');
      INSERT INTO SYSTEM_UNIT_TYPE (ID, NAME) VALUES (2, 'Модуль');
      INSERT INTO SYSTEM_UNIT_TYPE (ID, NAME) VALUES (3, 'Блок');
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-2">
    <sql>
      INSERT INTO ACTION (ID, NAME) VALUES (1, 'Просмотр');
      INSERT INTO ACTION (ID, NAME) VALUES (2, 'Создание');
      INSERT INTO ACTION (ID, NAME) VALUES (3, 'Редактирование');
      INSERT INTO ACTION (ID, NAME) VALUES (4, 'Удаление');
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-4">
    <sql>
      ALTER TABLE SYSTEM_UNIT MODIFY (PARENT_ID NULL);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-5">
    <sql>
      ALTER TABLE SYSTEM_UNIT ADD (NAME VARCHAR(128));
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-6">
    <sql>
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (1, 'Подсистема формирования и реализации АИП', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (2, 'Подсистема формирования отчетности', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (3, 'Подсистема НСИ', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (4, 'Подсистема информационного взаимодействия', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (5, 'Подсистема администрирования', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (6, 'Информационная безопасность', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (7, 'Хранилище данных', NULL, 1);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (8, 'Модуль формирования титульных списков', 1, 2);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (9, 'Основные параметры', 8, 3);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (10, 'Показатели стройки', 8, 3);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (11, 'Плановые показатели', 10, 3);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (12, 'Фактические показатели', 10, 3);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (13, 'Встроенно-пристроенные помещения', 8, 3);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (14, 'Основные параметры', 13, 3);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (15, 'Показатели стройки', 13, 3);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (16, 'Плановые показатели', 15, 3);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (17, 'Фактические показатели', 15, 3);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (18, 'Формирования документов', 8, 3);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (19, 'Назначение статуса', 8, 3);

      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (20, 'Подсистема формирования отчетности', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (21, 'Подсистема НСИ', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (22, 'Подсистема информационного взаимодействия', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (23, 'Подсистема администрирования', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (24, 'Информационная безопасность', NULL, 1);
      INSERT INTO SYSTEM_UNIT (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (25, 'Хранилище данных', NULL, 1);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-7">
    <sql>
      ALTER TABLE ROLE ADD (SYSTEM_UNIT_ID NUMBER(28) NOT NULL);
      ALTER TABLE ROLE ADD (ACTION_ID NUMBER(28) NOT NULL);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-8">
    <sql>
      ALTER TABLE ROLE ADD CONSTRAINT SYSTEM_UNIT_ROLE_FK FOREIGN KEY (SYSTEM_UNIT_ID) REFERENCES "SYSTEM_UNIT" (ID);
      ALTER TABLE ROLE ADD CONSTRAINT SYSTEM_UNIT_ACTION_FK FOREIGN KEY (ACTION_ID) REFERENCES "ACTION" (ID);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="09072014-9">
    <sql>
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (1, 1, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (2, 2, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (3, 3, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (4, 4, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (5, 5, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (6, 6, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (7, 7, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (8, 8, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (9, 9, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (10, 10, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (11, 11, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (12, 12, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (13, 13, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (14, 14, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (15, 15, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (16, 16, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (17, 17, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (18, 18, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (19, 19, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (20, 20, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (21, 21, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (22, 22, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (23, 23, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (24, 24, 1);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (25, 25, 1);

      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (26, 1, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (27, 2, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (28, 3, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (29, 4, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (30, 5, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (31, 6, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (32, 7, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (33, 8, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (34, 9, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (35, 10, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (36, 11, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (37, 12, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (38, 13, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (39, 14, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (40, 15, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (41, 16, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (42, 17, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (43, 18, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (44, 19, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (45, 20, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (46, 21, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (47, 22, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (48, 23, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (49, 24, 2);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (50, 25, 2);

      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (51, 1, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (52, 2, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (53, 3, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (54, 4, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (55, 5, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (56, 6, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (57, 7, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (58, 8, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (59, 9, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (60, 10, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (61, 11, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (62, 12, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (63, 13, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (64, 14, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (65, 15, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (66, 16, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (67, 17, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (68, 18, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (69, 19, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (70, 20, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (71, 21, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (72, 22, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (73, 23, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (74, 24, 3);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (75, 25, 3);

      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (76, 1, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (77, 2, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (78, 3, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (79, 4, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (80, 5, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (81, 6, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (82, 7, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (83, 8, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (84, 9, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (85, 10, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (86, 11, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (87, 12, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (88, 13, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (89, 14, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (90, 15, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (91, 16, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (92, 17, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (93, 18, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (94, 19, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (95, 20, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (96, 21, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (97, 22, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (98, 23, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (99, 24, 4);
      INSERT INTO SYSTEM_UNIT_ACTION (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (100, 25, 4);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="15072014-1">
    <sql>
      DROP TABLE SYSTEM_UNIT_ACTION PURGE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="15072014-2">
    <sql>
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (1, 1, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (2, 2, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (3, 3, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (4, 4, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (5, 5, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (6, 6, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (7, 7, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (8, 8, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (9, 9, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (10, 10, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (11, 11, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (12, 12, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (13, 13, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (14, 14, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (15, 15, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (16, 16, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (17, 17, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (18, 18, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (19, 19, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (20, 20, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (21, 21, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (22, 22, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (23, 23, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (24, 24, 1);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (25, 25, 1);

        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (26, 1, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (27, 2, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (28, 3, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (29, 4, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (30, 5, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (31, 6, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (32, 7, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (33, 8, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (34, 9, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (35, 10, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (36, 11, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (37, 12, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (38, 13, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (39, 14, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (40, 15, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (41, 16, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (42, 17, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (43, 18, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (44, 19, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (45, 20, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (46, 21, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (47, 22, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (48, 23, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (49, 24, 2);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (50, 25, 2);

        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (51, 1, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (52, 2, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (53, 3, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (54, 4, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (55, 5, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (56, 6, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (57, 7, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (58, 8, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (59, 9, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (60, 10, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (61, 11, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (62, 12, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (63, 13, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (64, 14, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (65, 15, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (66, 16, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (67, 17, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (68, 18, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (69, 19, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (70, 20, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (71, 21, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (72, 22, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (73, 23, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (74, 24, 3);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (75, 25, 3);

        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (76, 1, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (77, 2, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (78, 3, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (79, 4, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (80, 5, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (81, 6, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (82, 7, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (83, 8, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (84, 9, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (85, 10, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (86, 11, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (87, 12, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (88, 13, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (89, 14, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (90, 15, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (91, 16, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (92, 17, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (93, 18, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (94, 19, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (95, 20, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (96, 21, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (97, 22, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (98, 23, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (99, 24, 4);
        INSERT INTO ROLE (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (100, 25, 4);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="16072014-1">
    <sql>
      ALTER TABLE "GROUP" MODIFY NAME VARCHAR2(128);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="17072014-1">
    <sql>
      ALTER TABLE SYSTEM_UNIT RENAME CONSTRAINT PARENT_FK TO SYSTEM_UNIT_PARENT_FK;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="29072014-1">
    <sql>
      DELETE FROM "ROLE_GROUP";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="29072014-2">
    <sql>
      DELETE FROM "ROLE";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="29072014-3">
    <sql>
      DELETE FROM "SYSTEM_UNIT";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="29072014-4">
    <sql>
      DELETE FROM "SYSTEM_UNIT_TYPE";
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="29072014-5">
    <sql>
      INSERT INTO "SYSTEM_UNIT_TYPE" (ID, NAME) VALUES (1, 'Подсистема');
      INSERT INTO "SYSTEM_UNIT_TYPE" (ID, NAME) VALUES (2, 'Функция');
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="29072014-6">
    <sql>
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (1, 'Подсистема формирования и реализации АИП', NULL, 1);
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (2, 'Подсистема НСИ', NULL, 1);
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (3, 'Подсистема администрирования', NULL, 1);


      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (4, 'Титул пользователя', 1, 2);
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (5, 'Титул организации', 1, 2);
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (6, 'Титул(любой)', 1, 2);
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (7, 'Элемент справочника', 2, 2);
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (8, 'Пользователь', 3, 2);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="29072014-7">
    <sql>
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (1, 4, 1);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (2, 5, 1);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (3, 6, 1);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (4, 7, 1);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (5, 8, 1);


      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (6, 4, 2);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (7, 5, 2);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (8, 6, 2);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (9, 7, 2);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (10, 8, 2);



      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (11, 4, 3);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (12, 5, 3);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (13, 6, 3);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (14, 7, 3);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (15, 8, 3);



      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (16, 4, 4);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (17, 5, 4);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (18, 6, 4);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (19, 7, 4);
      INSERT INTO "ROLE" (ID, SYSTEM_UNIT_ID, ACTION_ID) VALUES (20, 8, 4);
    </sql>
  </changeSet>

  <changeSet author="Pustovitov" id="04082014-1">
    <sql>
      update Role Set Name = 'UserTitle' where SYSTEM_UNIT_ID = 4;
      update Role Set Name = 'OrganizationTitle' where SYSTEM_UNIT_ID = 5;
      update Role Set Name = 'Title' where SYSTEM_UNIT_ID = 6;
      update Role Set Name = 'DirectoryItem' where SYSTEM_UNIT_ID = 7;
      update Role Set Name = 'User' where SYSTEM_UNIT_ID = 8;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-1">
    <sql>
      ALTER TABLE "ROLE" DROP COLUMN ENTITY_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-2">
    <sql>
      ALTER TABLE "ROLE" DROP COLUMN CREATE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-3">
    <sql>
      ALTER TABLE "ROLE" DROP COLUMN DELETE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-4">
    <sql>
      ALTER TABLE "ROLE" DROP COLUMN CREATOR;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-5">
    <sql>
      ALTER TABLE "GROUP" DROP COLUMN ENTITY_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-6">
    <sql>
      ALTER TABLE "GROUP" DROP COLUMN CREATE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-7">
    <sql>
      ALTER TABLE "GROUP" DROP COLUMN DELETE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-8">
    <sql>
      ALTER TABLE "GROUP" DROP COLUMN CREATOR;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-9">
    <sql>
      ALTER TABLE "USER_GROUP" DROP COLUMN ENTITY_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-10">
    <sql>
      ALTER TABLE "USER_GROUP" DROP COLUMN CREATE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-11">
    <sql>
      ALTER TABLE "USER_GROUP" DROP COLUMN DELETE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-12">
    <sql>
      ALTER TABLE "USER_GROUP" DROP COLUMN CREATOR;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-13">
    <sql>
      ALTER TABLE "ROLE_GROUP" DROP COLUMN ENTITY_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-14">
    <sql>
      ALTER TABLE "ROLE_GROUP" DROP COLUMN CREATE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-15">
    <sql>
      ALTER TABLE "ROLE_GROUP" DROP COLUMN DELETE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-16">
    <sql>
      ALTER TABLE "ROLE_GROUP" DROP COLUMN CREATOR;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-17">
    <sql>
      ALTER TABLE "SYSTEM_UNIT" DROP COLUMN ENTITY_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-18">
    <sql>
      ALTER TABLE "SYSTEM_UNIT" DROP COLUMN CREATE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-19">
    <sql>
      ALTER TABLE "SYSTEM_UNIT" DROP COLUMN DELETE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-20">
    <sql>
      ALTER TABLE "SYSTEM_UNIT" DROP COLUMN CREATOR;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-21">
    <sql>
      ALTER TABLE "ACTION" DROP COLUMN ENTITY_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-22">
    <sql>
      ALTER TABLE "ACTION" DROP COLUMN CREATE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-23">
    <sql>
      ALTER TABLE "ACTION" DROP COLUMN DELETE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-24">
    <sql>
      ALTER TABLE "ACTION" DROP COLUMN CREATOR;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-25">
    <sql>
      ALTER TABLE "SYSTEM_UNIT_TYPE" DROP COLUMN ENTITY_ID;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-26">
    <sql>
      ALTER TABLE "SYSTEM_UNIT_TYPE" DROP COLUMN CREATE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-27">
    <sql>
      ALTER TABLE "SYSTEM_UNIT_TYPE" DROP COLUMN DELETE_DATE;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="31072014-28">
    <sql>
      ALTER TABLE "SYSTEM_UNIT_TYPE" DROP COLUMN CREATOR;
    </sql>
  </changeSet>

  <changeSet author="Pustovitov" id="06082014-1">
    <sql>
      update Role Set Name = 'ViewUserTitle' where SYSTEM_UNIT_ID = 4 and ACTION_ID = 1;
      update Role Set Name = 'CreateUserTitle' where SYSTEM_UNIT_ID = 4 and ACTION_ID = 2;
      update Role Set Name = 'EditUserTitle' where SYSTEM_UNIT_ID = 4 and ACTION_ID = 3;
      update Role Set Name = 'DeleteUserTitle' where SYSTEM_UNIT_ID = 4 and ACTION_ID = 4;

      update Role Set Name = 'ViewOrganizationTitle' where SYSTEM_UNIT_ID = 5 and ACTION_ID = 1;
      update Role Set Name = 'CreateOrganizationTitle' where SYSTEM_UNIT_ID = 5 and ACTION_ID = 2;
      update Role Set Name = 'EditOrganizationTitle' where SYSTEM_UNIT_ID = 5 and ACTION_ID = 3;
      update Role Set Name = 'DeleteOrganizationTitle' where SYSTEM_UNIT_ID = 5 and ACTION_ID = 4;

      update Role Set Name = 'ViewTitle' where SYSTEM_UNIT_ID = 6 and ACTION_ID = 1;
      update Role Set Name = 'CreateTitle' where SYSTEM_UNIT_ID = 6 and ACTION_ID = 2;
      update Role Set Name = 'EditTitle' where SYSTEM_UNIT_ID = 6 and ACTION_ID = 3;
      update Role Set Name = 'DeleteTitle' where SYSTEM_UNIT_ID = 6 and ACTION_ID = 4;

      update Role Set Name = 'ViewDirectoryItem' where SYSTEM_UNIT_ID = 7 and ACTION_ID = 1;
      update Role Set Name = 'CreateDirectoryItem' where SYSTEM_UNIT_ID = 7 and ACTION_ID = 2;
      update Role Set Name = 'EditDirectoryItem' where SYSTEM_UNIT_ID = 7 and ACTION_ID = 3;
      update Role Set Name = 'DeleteDirectoryItem' where SYSTEM_UNIT_ID = 7 and ACTION_ID = 4;

      update Role Set Name = 'ViewUser' where SYSTEM_UNIT_ID = 8 and ACTION_ID = 1;
      update Role Set Name = 'CreateUser' where SYSTEM_UNIT_ID = 8 and ACTION_ID = 2;
      update Role Set Name = 'EditUser' where SYSTEM_UNIT_ID = 8 and ACTION_ID = 3;
      update Role Set Name = 'DeleteUser' where SYSTEM_UNIT_ID = 8 and ACTION_ID = 4;
    </sql>
  </changeSet>

  <changeSet author="Pustovitov" id="07082014-1">
    <sql>
      INSERT INTO "GROUP" (ID, NAME) VALUES (1, 'ReaderGroup');

      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (1, 1, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (2, 2, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (3, 3, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (4, 4, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (5, 5, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (6, 6, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (7, 7, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (8, 8, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (9, 9, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (10, 10, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (11, 11, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (12, 12, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (13, 13, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (14, 14, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (15, 15, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (16, 16, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (17, 17, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (18, 18, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (19, 19, 1);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (20, 20, 1);

      INSERT INTO USER_GROUP (ID, USER_ID, GROUP_ID) VALUES (1, 1, 1);
    </sql>
  </changeSet>

  <changeSet author="Pustovitov" id="07082014-2">
    <sql>
      DELETE USER_GROUP;
      DELETE ROLE_GROUP;
      DELETE "GROUP";
    </sql>
  </changeSet>

  <changeSet author="Pustovitov" id="07082014-3">
    <sqlFile encoding="UTF8"
            endDelimiter="\r\n"
            path="./scripts/insert/SuperUsersGroup.sql"
            splitStatements="true"/>
  </changeSet>
  
  <changeSet author="Mayorov" id="06082014-1">
    <sql>
      ALTER TABLE TITLE ADD (OWNER_ENTITY_ID NUMBER(28));
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="11082014-7">
    <sql>
      INSERT INTO "ROLE" (ID, NAME, SYSTEM_UNIT_ID, ACTION_ID) VALUES (21, 'ViewRealization', 1, 1);
      INSERT INTO "ROLE" (ID, NAME, SYSTEM_UNIT_ID, ACTION_ID) VALUES (22, 'VieaAdministration', 3, 1);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="11082014-1">
    <sql splitStatements="false">
      DECLARE
      groupId NUMBER;
      BEGIN
      SELECT ID INTO groupId FROM "GROUP" WHERE NAME = 'Super users';

      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 21, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 22, groupId);

      COMMIT;
      END;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="13082014-2">
    <sql>
      UPDATE ROLE SET NAME = 'VieaAdministration' where ID = 22;
    </sql>
  </changeSet>


  <changeSet author="Mayorov" id="13082014-3">
    <sql splitStatements="false">
      DECLARE
      groupId NUMBER;
      BEGIN
      groupId := seq_entity.nextval;
      INSERT INTO "GROUP" (ID, NAME) VALUES (groupId, 'Administrators');

      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 22, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 15, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 20, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 10, groupId);
      
      INSERT INTO USER_GROUP (ID, USER_ID, GROUP_ID) VALUES (seq_entity.nextval, 2, groupId);
      COMMIT;
      END;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="13082014-4">
    <sql splitStatements="false">
      DECLARE
      groupId NUMBER;
      BEGIN
      SELECT ID INTO groupId FROM "GROUP" WHERE NAME = 'Administrators';

      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 5, groupId);

      COMMIT;
      END;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="13082014-5">
    <sql>
      UPDATE ROLE SET NAME = 'ViewAdministration' where ID = 22;
    </sql>
  </changeSet>

  <changeSet author="Pustovitov" id="14082014-1">
    <sql>
      ALTER TABLE "USER"
      ADD IsNeedSignOut CHAR(1) default 'N'
    </sql>
  </changeSet>

  <changeSet author="Pustovitov" id="15082014-1">
    <sql>
      UPDATE "USER"
      SET ORGANIZATION_ID = 4299
      WHERE ORGANIZATION_ID is NULL;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="11092014-1">
    <sql>
      DELETE ROLE_GROUP WHERE ROLE_ID = 7;
      DELETE ROLE_GROUP WHERE ROLE_ID = 8;
      DELETE ROLE_GROUP WHERE ROLE_ID = 4;
      DELETE ROLE_GROUP WHERE ROLE_ID = 9;
      DELETE ROLE_GROUP WHERE ROLE_ID = 14;
      DELETE ROLE_GROUP WHERE ROLE_ID = 19;
    </sql>
  </changeSet>
  
  <changeSet author="Mayorov" id="11092014-2">
    <sql>
      DELETE ROLE WHERE ID = 7;
      DELETE ROLE WHERE ID = 8;
      DELETE ROLE WHERE ID = 4;
      DELETE ROLE WHERE ID = 9;
      DELETE ROLE WHERE ID = 14;
      DELETE ROLE WHERE ID = 19;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="11092014-3">
    <sql>
      DELETE SYSTEM_UNIT WHERE ID = 7;
      DELETE SYSTEM_UNIT WHERE ID = 2;
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="11092014-4">
    <sql>
      INSERT INTO "SYSTEM_UNIT" (ID, NAME, PARENT_ID, SYSTEM_UNIT_TYPE_ID) VALUES (9, 'Роль', 3, 2);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="11092014-5">
    <sql>
      INSERT INTO "ROLE" (ID, NAME, SYSTEM_UNIT_ID, ACTION_ID) VALUES (23, 'ViewRole', 9, 1);
      INSERT INTO "ROLE" (ID, NAME, SYSTEM_UNIT_ID, ACTION_ID) VALUES (24, 'CreateRole', 9, 2);
      INSERT INTO "ROLE" (ID, NAME, SYSTEM_UNIT_ID, ACTION_ID) VALUES (25, 'EditRole', 9, 3);
      INSERT INTO "ROLE" (ID, NAME, SYSTEM_UNIT_ID, ACTION_ID) VALUES (26, 'DeleteRole', 9, 4);
    </sql>
  </changeSet>

  <changeSet author="Mayorov" id="11092014-6">
    <sql splitStatements="false">
      DECLARE
      groupId NUMBER;
      BEGIN
      groupId := seq_entity.nextval;
      SELECT ID INTO groupId FROM "GROUP" WHERE NAME = 'Administrators';
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 23, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 24, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 25, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 26, groupId);

      SELECT ID INTO groupId FROM "GROUP" WHERE NAME = 'Super users';
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 23, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 24, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 25, groupId);
      INSERT INTO ROLE_GROUP (ID, ROLE_ID, GROUP_ID) VALUES (seq_entity.nextval, 26, groupId);
      COMMIT;
      END;
    </sql>
  </changeSet>

</databaseChangeLog>